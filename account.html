<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç ‚Äî AllPrint.kz</title>
    <link rel="stylesheet" href="assets/css/style.css" />

    <style>
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ */
        .card-block {
            background: #ffffff;
            padding: 28px 32px;
            border-radius: 18px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.06);
            margin-bottom: 30px;
        }

        .card-title {
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            color: #1f2937;
        }

        .icon {
            width: 26px;
            height: 26px;
            fill: none;
            stroke: #1f2937;
            stroke-width: 1.6;
            flex-shrink: 0;
        }

        .ref-input {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .ref-input input {
            flex: 1;
            padding: 10px 14px;
            font-size: 16px;
            border-radius: 10px;
            border: 1px solid #d1d5db;
        }

        .ref-stats {
            display: flex;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .stat-card {
            flex: 1;
            min-width: 230px;
            background: #f9fafb;
            padding: 18px 20px;
            border-radius: 14px;
            border: 1px solid #e5e7eb;
        }

        .stat-card h3 {
            font-size: 18px;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-num {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 4px;
        }
    </style>
</head>

<body>

    <!-- ===== HEADER ===== -->
    <header class="container header">
        <a href="index.html" class="brand">
            <img src="assets/img/logo.png" alt="AllPrint –ª–æ–≥–æ—Ç–∏–ø" class="logo" />
            <span class="brand-text">allprint.kz</span>
        </a>

        <nav class="nav">
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
            <a href="delivery.html">–î–æ—Å—Ç–∞–≤–∫–∞</a>
            <a href="about.html">–û –Ω–∞—Å</a>
            <a href="account.html" class="active">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
        </nav>

        <div class="actions">
            <button type="button" class="btn" id="openLoginBtn">–í–æ–π—Ç–∏</button>
            <button type="button" class="btn btn-green" id="openRegisterBtn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚àí20%</button>
            <a href="cart.html" class="btn btn-outline">üõí <span id="cartCount">0</span></a>
        </div>

        <button class="burger" id="burger" aria-label="menu">‚ò∞</button>
    </header>

    <!-- ===== MAIN ===== -->
    <main class="container" style="max-width: 900px; margin-top: 40px;">

        <h1 style="margin-bottom: 10px;">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        <p class="muted" style="margin-bottom: 24px;">–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ, –±–æ–Ω—É—Å—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</p>

        <!-- –û–°–ù–û–í–ù–û–ô –í–°–¢–ê–í–õ–Ø–ï–ú–´–ô –ö–û–ù–¢–ï–ù–¢ -->
        <div id="accountContent"></div>

        <!-- ===== –†–ï–§–ï–†–ê–õ–¨–ù–´–ô –ë–õ–û–ö ===== -->
        <section id="referralSection" style="display:none;">

            <div class="card-block">
                <div class="card-title">
                    <svg class="icon" viewBox="0 0 24 24">
                        <rect x="3" y="3" width="18" height="18" rx="3" />
                        <path d="M8 12h8M12 8v8" />
                    </svg>
                    –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
                </div>

                <p class="muted">–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∑–∞ –∫–∞–∂–¥—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ –≤–∞—à–µ–π —Å—Å—ã–ª–∫–µ.</p>

                <div class="field">
                    <label>–í–∞—à–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:</label>
                    <div class="ref-input">
                        <input id="refLink" readonly>
                        <button id="copyRef" class="btn btn-green">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="ref-stats">

                    <div class="stat-card">
                        <h3>
                            <svg class="icon" viewBox="0 0 24 24">
                                <circle cx="12" cy="7" r="4" />
                                <path d="M5 21c1-4 5-6 7-6s6 2 7 6" />
                            </svg>
                            –ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ
                        </h3>
                        <div class="stat-num" id="refCount">0</div>
                        <p class="muted small">–¥—Ä—É–∑–µ–π</p>
                    </div>

                    <div class="stat-card">
                        <h3>
                            <svg class="icon" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="9" />
                                <path d="M9 12l2 2 4-4" />
                            </svg>
                            –ü–æ–ª—É—á–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤
                        </h3>
                        <div class="stat-num"><span id="refBonus">0</span>%</div>
                        <p class="muted small">—Å–∫–∏–¥–∫–∏</p>
                    </div>

                </div>
            </div>

        </section>

    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
        <div class="container">
            <p>¬© AllPrint.kz, 2025</p>
        </div>
    </footer>

    <!-- ===== AUTH MODAL (—Ç–æ—Ç –∂–µ) ===== -->
    <!-- ... –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... -->

    <script src="assets/js/app.js"></script>

    <script>
        /* ---- –í–°–Ø –¢–í–û–Ø –õ–û–ì–ò–ö–ê –û–°–¢–ê–ï–¢–°–Ø ---- */
        document.addEventListener('DOMContentLoaded', () => {

            const accountContent = document.getElementById('accountContent');
            const refSection = document.getElementById('referralSection');
            const refLink = document.getElementById('refLink');
            const refCount = document.getElementById('refCount');
            const refBonus = document.getElementById('refBonus');
            const copyRef = document.getElementById('copyRef');

            const isRegistered = localStorage.getItem('ap_registered') === 'true';
            const userCode = localStorage.getItem('ref_code') || generateRefCode();
            localStorage.setItem('ref_code', userCode);

            if (isRegistered) {
                accountContent.innerHTML = `
                    <div class="card-block">
                        <h2 class="card-title">
                            <svg class="icon" viewBox='0 0 24 24'>
                                <circle cx='12' cy='7' r='4'/>
                                <path d='M5 21c1-4 5-6 7-6s6 2 7 6'/>
                            </svg>
                            –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!
                        </h2>
                        <p class="muted">–í—ã —É—Å–ø–µ—à–Ω–æ –≤–æ—à–ª–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç.<br>–¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –±–æ–Ω—É—Å—ã, —Å–∫–∏–¥–∫–∏ –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞.</p>
                    </div>
                `;

                refSection.style.display = 'block';

                const fullLink = window.location.origin + '/?ref=' + userCode;
                refLink.value = fullLink;

                refCount.textContent = localStorage.getItem('ref_count') || '0';
                refBonus.textContent = (parseInt(refCount.textContent) * 10);

                copyRef.addEventListener('click', () => {
                    navigator.clipboard.writeText(fullLink);
                    copyRef.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    setTimeout(() => (copyRef.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å'), 2000);
                });

            } else {
                accountContent.innerHTML = `
                    <div class="card-block">
                        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, <a href="#" id="loginLink">–≤–æ–π–¥–∏—Ç–µ</a> –∏–ª–∏ <a href="#" id="registerLink">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É.</p>
                    </div>
                `;
            }

            function generateRefCode() {
                return Math.random().toString(36).substring(2, 8).toUpperCase();
            }
        });
    </script>

</body>

</html><!-- ===== AUTH MODAL ===== -->
<div class="modal" id="authModal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-card">
        <button class="modal-close" id="closeModal">‚úï</button>

        <h2 id="modalTitle">–í—Ö–æ–¥</h2>

        <div class="field">
            <label>Email:</label>
            <input type="email" id="authEmail">
        </div>

        <div class="field">
            <label>–ü–∞—Ä–æ–ª—å:</label>
            <input type="password" id="authPassword">
        </div>

        <button class="btn btn-green" id="authSubmit">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>

        <p class="muted small" id="switchAuth" style="margin-top:10px; cursor:pointer;">
            –£ –º–µ–Ω—è –µ—â—ë –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞
        </p>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {

        const modal = document.getElementById("authModal");
        const openLogin = document.getElementById("openLoginBtn");
        const openRegister = document.getElementById("openRegisterBtn");
        const closeModal = document.getElementById("closeModal");
        const switchAuth = document.getElementById("switchAuth");
        const modalTitle = document.getElementById("modalTitle");
        const authSubmit = document.getElementById("authSubmit");

        let isLogin = true;

        function openModal(login = true) {
            isLogin = login;
            modalTitle.textContent = login ? "–í—Ö–æ–¥" : "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è";
            switchAuth.textContent = login ? "–£ –º–µ–Ω—è –µ—â—ë –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞" : "–£ –º–µ–Ω—è —É–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç";
            modal.classList.add("show");
        }

        function closeAuthModal() {
            modal.classList.remove("show");
        }

        if (openLogin) openLogin.addEventListener("click", () => openModal(true));
        if (openRegister) openRegister.addEventListener("click", () => openModal(false));
        if (closeModal) closeModal.addEventListener("click", closeAuthModal);

        switchAuth.addEventListener("click", () => openModal(!isLogin));

        authSubmit.addEventListener("click", () => {
            if (!isLogin) {
                // —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                localStorage.setItem("ap_registered", "true");
            }
            closeAuthModal();
            location.reload();
        });

        modal.addEventListener("click", (e) => {
            if (e.target === modal) closeAuthModal();
        });
    });
</script>